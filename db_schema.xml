<?xml version="1.0"?>
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <table name="package_types" resource="default" engine="innodb" comment="Package types">
        <column xsi:type="int" name="package_type_id" padding="10" unsigned="true" nullable="false" identity="true" comment="Package type ID" />
        <column xsi:type="smallint" name="website_id" padding="5" unsigned="true" nullable="false" comment="Allowed website ID" />
        <column xsi:type="boolean" name="is_active" nullable="false" comment="Package type is active" />
        <column xsi:type="varchar" name="default_name" length="127" nullable="false" comment="Default name" />
        <column xsi:type="varchar" name="default_description" length="254" nullable="false" comment="Default description" />
        <column xsi:type="double" name="empty_weight" precision="16" scale="6" nullable="false" comment="Weight of the package when empty" />
        <column xsi:type="double" name="max_weight" precision="16" scale="6" nullable="false" comment="Maximum allowed weight" />
        <column xsi:type="double" name="min_weight" precision="16" scale="6" nullable="false" comment="Minimum allowed weight" />
        <column xsi:type="double" name="outer_width" precision="16" scale="6" nullable="false" comment="Outer width" />
        <column xsi:type="double" name="outer_height" precision="16" scale="6" nullable="false" comment="Outer height" />
        <column xsi:type="double" name="outer_depth" precision="16" scale="6" nullable="false" comment="Outer depth" />
        <column xsi:type="double" name="inner_width" precision="16" scale="6" nullable="false" comment="Inner width" />
        <column xsi:type="double" name="inner_height" precision="16" scale="6" nullable="false" comment="Inner height" />
        <column xsi:type="double" name="inner_depth" precision="16" scale="6" nullable="false" comment="Inner depth" />
        <column xsi:type="int" name="max_per_shipment" padding="10" nullable="false" comment="Maximum allowed amount per shipment" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="package_type_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPES_WEBSITE_ID_STORE_WEBSITE_ID" table="package_types" column="website_id" referenceTable="store_website" referenceColumn="website_id" onDelete="CASCADE"/>
    </table>
    <table name="package_type_store_views" resource="default" engine="innodb" comment="Package type store view">
        <column xsi:type="int" name="entity_id" padding="10" unsigned="true" nullable="false" identity="true" comment="Package type store view ID" />
        <column xsi:type="int" name="store_view_id" padding="10" unsigned="true" nullable="false" comment="Store view ID" />
        <column xsi:type="int" name="package_type_id" padding="10" unsigned="true" nullable="false" comment="Package type ID" />
        <column xsi:type="smallint" name="store_view_id" padding="5" unsigned="true" nullable="false" comment="Store view ID" />
        <column xsi:type="varchar" name="name" length="127" nullable="false" comment="Name" />
        <column xsi:type="varchar" name="description" length="254" nullable="false" comment="Description" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="entity_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_STORE_VIEWS_PACKAGE_TYPE_ID_PACKAGE_TYPES_ID" table="package_type_store_views" column="package_type_id" referenceTable="package_types" referenceColumn="package_type_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_STORE_VIEWS_STORE_VIEW_ID_STORES_ID" table="package_type_store_views" column="store_view_id" referenceTable="store" referenceColumn="store_id" onDelete="CASCADE"/>
    </table>
    <table name="package_type_countries" resource="default" engine="innodb" comment="Package type countries">
        <column xsi:type="int" name="country_id" padding="10" unsigned="true" nullable="false" identity="true" comment="Package type country ID" />
        <column xsi:type="int" name="package_type_id" padding="10" unsigned="true" nullable="false" comment="Package type ID" />
        <column xsi:type="int" name="country_id" padding="10" unsigned="true" nullable="false" comment="Country ID" />
        <column xsi:type="int" name="parent_id" padding="10" unsigned="true" nullable="false" comment="Parent ID" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="country_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_COUNTRIES_PACKAGE_TYPE_ID_PACKAGE_TYPES_ID" table="package_type_countries" column="package_type_id" referenceTable="package_types" referenceColumn="package_type_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_COUNTRIES_COUNTRY_ID_DIRECTORY_COUNTRY_REGION_ID" table="package_type_countries" column="country_id" referenceTable="directory_country_region" referenceColumn="region_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_COUNTRIES_PARENT_ID_PACKAGE_TYPE_COUNTRIES_PARENT_ID" table="package_type_countries" column="parent_id" referenceTable="package_type_countries" referenceColumn="country_id" onDelete="CASCADE"/>
    </table>
    <table name="package_type_country_tiers" resource="default" engine="innodb" comment="Country tiers">
        <column xsi:type="int" name="country_tier_id" padding="10" unsigned="true" nullable="false" identity="true" comment="Country tier ID" />
        <column xsi:type="int" name="package_type_country_id" padding="10" unsigned="true" nullable="false" comment="Package type country ID" />
        <column xsi:type="decimal" name="valid_from_count" precision="14" scale="2" nullable="false" comment="Tier upper limit" />
        <column xsi:type="decimal" name="price" precision="14" scale="2" nullable="false" comment="Tier price" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="country_tier_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_COUNTRY_TIERS_PACKAGE_TYPE_COUNTRY_ID_PACKAGE_TYPE_COUNTRIES_ID" table="package_type_country_tiers" column="package_type_country_id" referenceTable="package_type_countries" referenceColumn="country_id" onDelete="CASCADE"/>
    </table>
    <table name="package_type_country_postal_code_prices" resource="default" engine="innodb" comment="Postal code prices">
        <column xsi:type="int" name="postal_code_price_id" padding="10" unsigned="true" nullable="false" identity="true" comment="Postal code ID" />
        <column xsi:type="int" name="package_type_country_id" padding="10" unsigned="true" nullable="false" comment="Package type country ID" />
        <column xsi:type="double" name="valid_from_weight" precision="16" scale="6" nullable="false" comment="Postal code price upper limit" />
        <column xsi:type="varchar" name="postcode_from" length="127" nullable="false" comment="Postcode from" />
        <column xsi:type="varchar" name="postcode_till" length="127" nullable="false" comment="Postcode till" />
        <column xsi:type="boolean" name="use_tier" nullable="false" comment="Use tier" />
        <column xsi:type="decimal" name="price" precision="14" scale="2" nullable="false" comment="Postal code price" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="postal_code_price_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_COUNTRY_POSTAL_CODE_PRICES_PACKAGE_TYPE_COUNTRY_ID_PACKAGE_TYPE_COUNTRIES_ID" table="package_type_country_postal_code_prices" column="package_type_country_id" referenceTable="package_type_countries" referenceColumn="country_id" onDelete="CASCADE"/>
    </table>
    <table name="package_type_country_prices" resource="default" engine="innodb" comment="Country prices">
        <column xsi:type="int" name="country_price_id" padding="10" unsigned="true" nullable="false" identity="true" comment="Country price ID" />
        <column xsi:type="int" name="package_type_country_id" padding="10" unsigned="true" nullable="false" comment="Package type country ID" />
        <column xsi:type="double" name="valid_from_weight" precision="16" scale="6" nullable="false" comment="Country price upper limit" />
        <column xsi:type="boolean" name="use_tier" nullable="false" comment="use tier" />
        <column xsi:type="decimal" name="price" precision="14" scale="2" nullable="false" comment="Country price" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="country_price_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="PACKAGE_TYPE_COUNTRY_PRICES_PACKAGE_TYPE_COUNTRY_ID_PACKAGE_TYPE_COUNTRIES_ID" table="package_type_country_prices" column="package_type_country_id" referenceTable="package_type_countries" referenceColumn="country_id" onDelete="CASCADE"/>
    </table>
</schema>